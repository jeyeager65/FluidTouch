; PlatformIO Project Configuration File for FluidTouch
; Elecrow CrowPanel 7" ESP32 HMI Display (Basic and Advance versions)
; Product URLs:
;   Basic: https://www.elecrow.com/esp32-display-7-inch-hmi-display-rgb-tft-lcd-touch-screen-support-lvgl.html
;   Advance: https://www.elecrow.com/crowpanel-advance-7-0-hmi-esp32-ai-display-800x480-artificial-intelligent-ips-touch-screen-support-meshtastic-and-arduino-lvgl-micropython.html

; Common settings for both hardware versions
[env]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
monitor_speed = 115200
upload_speed = 921600
board_build.filesystem = littlefs

; Common build flags
build_flags = 
    -DBOARD_HAS_PSRAM
    -I include
    -DARDUINO_LOOP_STACK_SIZE=16384

; Common library dependencies
lib_deps = 
    lvgl/lvgl@^9.4.0
    lovyan03/LovyanGFX@^1.2.7
    links2004/WebSockets@^2.7.1
    bblanchon/ArduinoJson@^7.4.2

; ============================================================================
; Elecrow CrowPanel 7" Basic
; Hardware: ESP32-S3-WROOM-1-N4R8 (4MB Flash + 8MB Octal PSRAM)
; Display: 800x480 TN LCD with GT911 capacitive touch
; Backlight: PWM on GPIO2
; ============================================================================
[env:elecrow-crowpanel-7-basic]
board_build.flash_mode = dio
board_upload.flash_size = 4MB
board_build.partitions = single_app_4MB.csv
board_build.arduino.memory_type = dio_opi
board_upload.maximum_ram_size = 8519680
build_flags = 
    ${env.build_flags}
    -DHARDWARE_BASIC
    -DBACKLIGHT_PWM

; ============================================================================
; Elecrow CrowPanel 7" Advance
; Hardware: ESP32-S3-WROOM-1-N16R8 (16MB Flash + 8MB Octal PSRAM)
; Display: 800x480 IPS LCD with GT911 capacitive touch
; Backlight: I2C controller (STC8H1K28 at address 0x30)
; ============================================================================
[env:elecrow-crowpanel-7-advance]
board_build.flash_mode = qio
board_upload.flash_size = 16MB
board_build.partitions = default_16MB.csv
board_build.arduino.memory_type = qio_opi
board_upload.maximum_ram_size = 8519680
build_flags = 
    ${env.build_flags}
    -DHARDWARE_ADVANCE
    -DBACKLIGHT_I2C
    -DBACKLIGHT_I2C_ADDR=0x30


